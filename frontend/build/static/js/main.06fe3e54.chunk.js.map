{"version":3,"sources":["navbarLogo.png","components/VisualDisplay.js","components/VisualPrediction.js","components/Prediction.js","components/SubscriberCount.js","components/GoalsList.js","util/util.js","actions/GoalsActions.js","actions/SubscriptionsActions.js","containers/GoalsListContainer.js","components/Home.js","actions/DataActions.js","util/normalize.js","containers/HomeContainer.js","components/AboutUs.js","components/Signup.js","util/Auth.js","actions/AuthActions.js","containers/SignUpContainer.js","components/Login.js","containers/LoginContainer.js","components/UserProfile.js","actions/UserActions.js","containers/UserContainer.js","components/Puzzle.js","components/SingleGoal.js","components/GoalDisplay.js","components/CommunityGoals.js","components/Goals.js","containers/GoalsContainer.js","Navbar.js","containers/NavbarContainer.js","actions/CommunityAction.js","components/CommunityProfile.js","containers/CommunityContainer.js","App.js","reducers/AuthReducer.js","reducers/DataReducer.js","reducers/GoalsReducer.js","reducers/SubscriptionsReducer.js","reducers/UserReducer.js","reducers/CommunityReducer.js","reducers/ActivityReducer.js","reducers/RootReducer.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","VisualDisplay","react_default","a","createElement","id","iframe","url","width","height","className","display","position","allowFullScreen","recyclePics","plasticBagsPics","waterBottlePics","populate","picType","garb","garbImg","leCase","i","randNum","Math","floor","random","length","push","key","src","alt","VisualPrediction","props","result","type","reverse","Prediction","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","setStory","currentGoal","_stories","defineProperty","handleChange","e","setState","target","name","value","handleSubmit","arguments","undefined","preventDefault","_this$state","state","input_a","input_b","frequency","input_a_parse","parseInt","input_b_parse","weeks","toFixed","isNaN","isSubmitted","isInvalid","calcResult","handleSelect","currentStory","_this$state2","Fragment","lib","header","trigger","small","placeholder","onChange","style","color","onClick","VisualPrediction_VisualPrediction","Component","SubscribeCount","count","GoalsList","handleClick","isLoggedIn","history","concat","calcSubscribers","subscriptions","forEach","subscription","goal_id","scroll","window","document","body","scrollHeight","setTimeout","top","left","behavior","fetchAllGoals","fetchAllSubscriptions","_this2","_this$props","boroughId","goalsList","subjects","goals","data","filter","goal","community_id","map","node","title","description","slogan","icon","initiative","components_Prediction","SubscriberCount","handleScroll","withRouter","getAllGoalsPerCommunity","axios","get","addSubmission","userId","sub","post","getSingleSubscriptionIdForUserAndGoal","goalId","addSubscription","deleteSubscription","subscriptionId","delete","dispatch","then","res","catch","err","console","log","fetchAllGoalsPerCommunity","comm_id","Util","goalsComm","fetchSubmissionsPerGoal","submissions","fetchSubscriptionsPerGoal","fetchAllSubscriptionsForAUser","user_id","connect","ownProps","auth","Home","borough","tabChange","prevProps","prevState","fetchTonnage","list","GoalsListContainer","options","swipeable","active","VisualDisplay_VisualDisplay","tonnage","info","slicedInfo","el","month","includes","bronx","queens","manhattan","brooklyn","staten_island","entry","summaries","_loop","reduce","acc","refusetonscollected","normalizeData","AboutUs","clickJon","jonDiv","current","scrollIntoView","block","clickRinat","rinatDiv","clickMichell","michellDiv","clickLeo","leoDiv","clickTop","topDiv","React","createRef","ref","LeoDiv","href","aws","require","config","bucketName","region","accessKeyId","secretAccessKey","Signup","email","username","password","passwordConfirm","avatar_img","error","didUpload","upload","ReactS3","uploadFile","files","location","onSubmitNewUser","newuserData","newUser","checkAuthenticateStatus","onSubmit","htmlFor","emailInput","usernameInput","passwordInput","accept","react_router","to","Auth","authenticateUser","token","localStorage","setItem","isUserAuthenticated","getItem","deauthenticateUser","removeItem","getToken","logout","user","payload","loadCurrent","currentUser","userData","newUserData","SignUp","Login","onSubmitLogIn","logInData","logIn","reload","M","updateTextFields","1","2","3","4","5","UserProfile","community","getCommunityForAUser","match","params","Error","getActivities","users","userActivity","routeId","theUser","find","userName","userWord","activity","activity_id","react_router_dom","react_timeago_lib_default","date","time_stamp","FacebookShareButton","FacebookIcon","size","round","TwitterShareButton","TwitterIcon","TumblrShareButton","TumblrIcon","fetchAllUsers","fetchUserActivity","communityId","_this$props2","userObj","imgUrl","subscripUser","waves","right","l","Puzzle","_ref","mapSubs","img_url","SingleGoal","loggedUserSubId","goalInfo","handleSubscribe","loggedUser","innerText","slice","refreshSubscriptions","getGoal","nd","arr","split","handleUpload","newValue","subId","_this$props3","percAll","target_value","countUserSubs","percUser","s","progress","components_Puzzle","GoalDisplay","usernames","isSubscribed","subscriptionCount","mapUsers","CommunityGoal","subStr","refreshSubscriptionsForUserAndGoal","refreshProps","fetchAllSubscriptionsPerComm","fetchAllSubmissionCountPerComm","calcProgress","submissionCount","getUserNames","subscriptions_per_goal","isSub","userSub","submissions_count_per_goal","submissions_count","keys","mapGoals","components_GoalDisplay","Goals","path","SingleGoal_SingleGoal","CommunityGoals_CommunityGoal","subsPerUser","subCount","promises","req","Promise","all","subObj","promise","Navbar","event","addEventListener","elems","querySelectorAll","Sidenav","init","navbarTernary","exact","logo","data-target","fetchAllCommunityActivity","communityName","CommunityProfile","click","usersid","App","NavbarContainer","component","HomeContainer","SignUpContainer","LoginContainer","UserContainer","GoalsContainer","CommunityContainer","initialState","AuthReducer","action","freeze","objectSpread","DataReducer","oldState","normalizeDescription","GoalsReducer","normDesc","goalUsers","SubscriptionReducer","UserReducer","toConsumableArray","CommunityReducer","RootReducer","combineReducers","SubscriptionsReducer","activityReducer","Boolean","hostname","store","createStore","applyMiddleware","thunk","logger","ReactDOM","render","es","src_App_0","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.06fe3e54.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/navbarLogo.98c57d4f.png\";","import React from 'react';\nimport Iframe from 'react-iframe';\n\n\n\nexport const VisualDisplay = () => {\n\n    return(\n      <div id=\"content\">\n        <Iframe url=\"https://rinattr.github.io/envizoDemo/\"\n        width=\"740px\"\n        height=\"640px\"\n        id=\"myId\"\n        className=\"iframe-visual\"\n        display=\"initial\"\n        position=\"relative\"\n        allowFullScreen/>\n     </div>)\n}\n","import React from 'react'\nimport '../css/VisualPrediction.css'\n\nlet people = 'https://static1.squarespace.com/static/55947ac3e4b0fa882882cd65/58ab7b04bebafb337899961d/58ab7b16725e25c4fac43d33/1487647075724/NS_0010.png'\n\nlet recyclePics = [\"http://www.stickpng.com/assets/images/5c434bffe39d5d01c21da941.png\",'https://www.freepnglogos.com/uploads/tupperware-png-logo/tupperware-png-logo-symbol-29.png','https://static1.squarespace.com/static/5aa5dcd84eddec7350a4c420/5aa83b4ee4966b2fc584cb7e/5aa83bd3e2c4839970f7f5b6/1520974805200/metal-can-beans-z-500.png','https://purepng.com/public/uploads/large/purepng.com-glass-bottlebottle-food-glass-object-941524620381f6zci.png']\n\nlet plasticBagsPics = ['http://www.stickpng.com/assets/images/5895ff0acba9841eabab60b0.png',\"http://www.stickpng.com/assets/images/5895ff01cba9841eabab60af.png\"]\n// let plasticBagsPics = [plastic1, plastic2]\n\nlet waterBottlePics = ['http://www.stickpng.com/assets/images/580b585b2edbce24c47b2780.png','https://b.kisscc0.com/20180813/hbe/kisscc0-fizzy-drinks-coca-cola-drink-can-computer-icons-soda-refrigerante-5b7195177b0c06.282002171534170391504.png']\n\nconst populate = (picType,garb,garbImg,leCase) => {\n  for(let i = 0; i < garb; i++){\n    let randNum = Math.floor(Math.random()*picType.length)\n\n    garbImg.push(<img id={leCase} key={i} src={picType[randNum]} alt='garbage'/>)\n  }\n}\n\nexport const VisualPrediction = (props) => {\n  let garb = Math.floor(props.result);\n  let garbImg = [];\n  let instance=''\n\n  if(props.type===\"Recycle\"){\n    instance = 'recyclePics'\n    populate(recyclePics,garb,garbImg,instance)\n  }else if(props.type===\"Reusable Grocery Bag\"){\n    instance = 'plasticBagsPics'\n    populate(plasticBagsPics,garb,garbImg,instance)\n  }else if(props.type===\"Drink Tap Water\"){\n    instance = 'waterBottlePics'\n    populate(waterBottlePics,garb,garbImg,instance)\n  }else{\n    return null\n  }\n\n  return (\n    <div className='VisualWrapper'>\n    <img id='people'src={people} alt='people'/>\n    <div id='garbageList'>\n    {garbImg.reverse()}\n    </div>\n    </div>\n  )\n}\n","import React, { Component } from 'react';\nimport { Modal, Button, Select } from 'react-materialize';\nimport { VisualPrediction } from  './VisualPrediction.js'\n\n//change the prediction text according to goal type.\nclass Prediction extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      currentGoal: \"\",\n      currentStory: \"\",\n      input_a: \"\",\n      input_b: \"\",\n      calcResult: \"\",\n      frequency: \"month\",\n      isSubmitted: false,\n      isInvalid: \"\"\n    }\n  }\n\n\n  componentDidMount() {\n    let { currentGoal } = this.props;\n    this.setState({\n      currentGoal: currentGoal,\n      currentStory: this.setStory(currentGoal)\n    })\n  }\n\n  setStory = (currentGoal) => {\n    let stories = { [\"Reusable Grocery Bag\"]: [\"I shop for groceries\",\"times per week, and use\",\"plastic bags on average each time.\",\"plastic bags\"],\n                    [\"Drink Tap Water\"]: [\"I drink a bottled or canned beverage\",\"times per week.\",\"\",\"bottles and/or cans\"],\n                    [\"Recycle\"]: [\"I dispose about\",\"paper, metal, plastic and glass items per week, and recycle about\",\"precentage of it.\",\"paper, metal, plastic and glass items\"] }\n\n    return stories[currentGoal];\n  }\n\n  handleChange = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value\n    })\n  }\n\n  handleSubmit = (e = null) => {\n    if (e) { e.preventDefault() }\n    let { input_a, input_b, frequency, currentGoal } = this.state;\n    let input_a_parse = parseInt(input_a);\n    let input_b_parse = input_b ? parseInt(input_b) : 1;\n    //b - precentage 0.5\n    let weeks = (frequency === \"month\") ? 4.345 : 52.142\n    let result = (currentGoal === \"Recycle\")\n      ? (input_a_parse - (input_a_parse * input_b_parse/100))*weeks.toFixed(1)\n      : (input_a_parse * input_b_parse * weeks).toFixed(1)\n\n    if (!isNaN(result)) {\n      this.setState({\n        calcResult: result,\n        isSubmitted: true,\n        isInvalid: \"\"\n      })\n    } else {\n      this.setState({\n        isSubmitted: true,\n        isInvalid: \"*Please submit a valid number\",\n        calcResult: \"\"\n      })\n    }\n  }\n\n  handleSelect = (e) => {\n    this.setState({\n      frequency: e.target.value\n    }, this.handleSubmit)\n  }\n\n  render() {\n    let { input_a, input_b, calcResult, frequency, currentGoal, currentStory, isSubmitted, isInvalid } = this.state;\n    return (\n      <>\n        <Modal header={currentGoal} trigger={<Button small>Prediction</Button>}>\n          <form className=\"input-field col s6 FormContainer\" >\n          {currentStory[0]}\n            <div className='input-field col s6'>\n              <input placeholder=\"input number\" type=\"text\" name=\"input_a\" value={input_a} onChange={this.handleChange} />\n            </div>\n          {currentStory[1]}\n          {!currentStory[2] ? null :\n            <div className='input-field col s6'>\n              <input placeholder=\"input number\" type=\"text\" name=\"input_b\" value={input_b} onChange={this.handleChange} />\n            </div>\n          }\n            {currentStory[2]}\n            {isSubmitted ? <p style={{color:'red'}}>{isInvalid}</p> : null}\n            {/*this.scroll in GoalsList takes over onSubmit in form, hence using onClick bellow*/}\n            <p><button className=\"btn-small\" onClick={this.handleSubmit}>SHOW MY IMPACT</button></p>\n            {isSubmitted && !isInvalid\n              ? <>\n              <div className='input-field col s6'>\n                {/*Select materialize component does not accept \"name\" attribute*/}\n                <Select onChange={this.handleSelect}>\n                  <option value=\"month\">month</option>\n                  <option value=\"year\">year</option>\n                </Select>\n              </div>\n                You are polluting your community with <b>{calcResult}</b> {currentStory[3]} on average each {frequency}.\n              <VisualPrediction\n                  result={calcResult}\n                  type={currentGoal}/>\n                </>\n              : null\n            }\n          </form>\n        </Modal>\n      </>\n    )\n  }\n}\n\nexport default Prediction;\n","import React from 'react';\n\nconst SubscribeCount = (props) => {\n  let { count } = props;\n  return (\n    <div className='sub-count'>\n      <span>{ count }</span>\n      <span className='text-count'>Subscribers</span>\n    </div>\n  )\n}\n\nexport default SubscribeCount;\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { Collapsible, CollapsibleItem} from 'react-materialize';\nimport '../css/goalsList.css';\nimport Prediction from './Prediction';\nimport SubscriberCount from './SubscriberCount';\n\nconst subjects = ['Monthly Tonnage', 'Air Pollution', 'Energy Consumption']\n\nclass GoalsList extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    this.props.fetchAllGoals();\n    this.props.fetchAllSubscriptions();\n  }\n  handleClick = (e) => {\n    this.props.isLoggedIn\n    ? this.props.history.push(`/goal/${e.target.id}`)\n    : this.props.history.push(`/login`)\n  }\n\n  //Input: all subsciptions fetched from backend; Output: number of subscribers for each goal\n  calcSubscribers = (id) => {\n    if (this.props.subscriptions) {\n      const { subscriptions } = this.props.subscriptions;\n      let count = 0;\n      subscriptions.forEach(subscription => (subscription.goal_id === id && count ++));\n      return count;\n    } else {\n      return 0;\n    }\n  }\n\n  scroll = e => {\n    e.preventDefault();\n      window.scroll(0,document.body.scrollHeight)\n      setTimeout(()=> window.scroll({top:2500,left:0,behavior:'smooth'}), 300)\n  }\n\n  render() {\n    let { boroughId, subjects } = this.props;\n\n    //first it filters on community id then maps the result\n    //map through the goals array and present the goal in a collapsible card.\n\n\n    const goalsList = this.props.goals ? this.props.goals.data.filter(goal => goal.community_id=== +boroughId).map(goal => {\n      return (\n        <CollapsibleItem onClick={this.scroll} node='h5' header={goal.title +' - ' + goal.description.slogan} icon=\"delete\" key={goal.id}>\n          <div className=\"container\">\n            <p className='flow-text'>{goal.description.initiative}</p>\n            <h4>Task:</h4><h5>{goal.description.description}</h5>\n          </div>\n          <div className='container leButtons'>\n            <Prediction currentGoal={goal.title}/>\n            <button className=\"btn-small subscribe\" id={goal.id} onClick={this.handleClick}>\n              Learn More\n            </button>\n            <SubscriberCount count={this.calcSubscribers(goal.id)}/>\n          </div>\n        </CollapsibleItem>\n      )\n    })\n     : <div className=\"container center\">\n         <div className=\"preloader-wrapper big active\">\n            <div className=\"spinner-layer spinner-blue-only\">\n             <div className=\"circle-clipper left\">\n               <div className=\"circle\"></div>\n             </div><div className=\"gap-patch\">\n               <div className=\"circle\"></div>\n             </div><div className=\"circle-clipper right\">\n               <div className=\"circle\"></div>\n             </div>\n            </div>\n        </div>\n      </div>;\n\n    return (\n      <>\n        <Collapsible className='container collap' onClick={this.handleScroll}>\n          {goalsList}\n        </Collapsible>\n      </>\n    )\n  }\n}\n\nexport default withRouter(GoalsList);\n","import axios from 'axios';\n//Data: Tonnage\nexport const getTonnage = () => axios.get(\"https://data.cityofnewyork.us/resource/ebb7-mvp5.json?$limit=5000\")\n\nexport const getAllGoals = () => axios.get(\"/api/goals\")\nexport const getAllGoalsPerCommunity = (id) => axios.get(`/api/goals/community/${id}`)\nexport const getAllUsersPerGoal = (id) => axios.get(`/api/goals/${id}/users`)\n\nexport const getAllSubscriptions = () => axios.get(\"/api/subscriptions/\")\nexport const getAllUsers = () => axios.get('/api/users')\nexport const getAllSubmissionsPerGoal = (id) => axios.get(`/api/submissions/goal/${id}`)\nexport const getAllSubscriptionsPerGoal = (id) => axios.get(`/api/subscriptions/goal/${id}`)\n\nexport const addSubmission = (userId, sub) => axios.post(`/api/submissions/user/${userId}`, sub)\n\n//User\nexport const getSingleSubscriptionIdForUserAndGoal = (userId, goalId) => axios.get(`/api/subscriptions/${userId}/${goalId}`)\nexport const addSubscription = (subscription) => axios.post(`/api/subscriptions/new`, subscription)\nexport const deleteSubscription = (subscriptionId) => axios.delete(`/api/subscriptions/${subscriptionId}`)\nexport const getSubscriptionsForAUser = (user_id) => axios.get(`/api/subscriptions/user/${user_id}`)\nexport const getActivityPerUser = (user_id) => axios.get(`/api/users/activity/${user_id}`)\n\n//Community\nexport const getAllActivityForACommunity = (community_id) => axios.get(`/api/communities/${community_id}/activity`)\n","import * as Util from '../util/util';\nimport axios  from 'axios'\nexport const RECEIVE_ALLGOALS = 'RECEIVE_ALLGOALS';\nexport const RECEIVE_ALLGOALS_PER_COMM = 'RECEIVE_ALLGOALS_PER_COMM';\nexport const RECEIVE_SUBMISSIONS_PER_GOAL = 'RECEIVE_SUBMISSIONS_PER_GOAL';\nexport const RECEIVE_SUBSCRIPTIONS_PER_GOAL = 'RECEIVE_SUBSCRIPTIONS_PER_GOAL';\nexport const RECEIVE_ALLUSERS_PER_GOAL = 'RECEIVE_ALLUSERS_PER_GOAL';\nexport const RECEIVE_ALLSUBM_COUNT_PER_COMM = 'RECEIVE_ALLSUBM_COUNT_PER_COMM';\n\n\nexport const receiveAllGoals = goals => {\n  return {\n    type: RECEIVE_ALLGOALS,\n    goals\n  }\n}\nexport const receiveAllGoalsPerCommunity = goalsComm => {\n  return {\n    type: RECEIVE_ALLGOALS_PER_COMM,\n    goalsComm\n  }\n}\nexport const receiveAllUsersPerGoal = goalUsers => {\n  return {\n    type: RECEIVE_ALLUSERS_PER_GOAL,\n    goalUsers\n  }\n}\n\nexport const receiveSubmissionsPerGoal = (submissions) => {\n  return {\n    type: RECEIVE_SUBMISSIONS_PER_GOAL,\n    submissions\n  }\n}\nexport const receiveSubscriptionsPerGoal = (subscriptions) => {\n  return {\n    type: RECEIVE_SUBSCRIPTIONS_PER_GOAL,\n    subscriptions\n  }\n}\n\nexport const receiveSubmissionCount = (subCount) => {\n  return {\n    type:RECEIVE_ALLSUBM_COUNT_PER_COMM,\n    subCount\n  }\n}\n\nexport const fetchAllGoals = () => dispatch => {\n  return Util.getAllGoals()\n  .then(res => {\n    return dispatch(receiveAllGoals(res.data))\n  })\n  .catch(err => console.log(err));\n}\n\nexport const fetchAllGoalsPerCommunity = (comm_id) => dispatch => {\n  return Util.getAllGoalsPerCommunity(comm_id)\n              .then(res => {\n                  return dispatch(receiveAllGoalsPerCommunity(res.data))\n              })\n              .catch(err => console.log(err));\n}\n\nexport const fetchAllUsersPerGoal = (goal_id) => dispatch => {\n  return Util.getAllUsersPerGoal(goal_id)\n            .then(res => {\n              return dispatch(receiveAllUsersPerGoal(res.data))\n            })\n            .catch(err => console.log(err));\n}\n\nexport const fetchSubmissionsPerGoal = (goalId) => dispatch => {\n  return Util.getAllSubmissionsPerGoal(goalId)\n              .then(res => {\n                return dispatch(receiveSubmissionsPerGoal(res.data.submissions))\n              })\n              .catch(err => console.log(err))\n}\nexport const fetchSubscriptionsPerGoal = (goalId) => dispatch => {\n  return Util.getAllSubscriptionsPerGoal(goalId)\n              .then(res => {\n                return dispatch(receiveSubscriptionsPerGoal(res.data.subscriptions))\n              })\n              .catch(err => console.log(err))\n}\n\nexport const fetchAllSubmissionCountPerComm =(comm_id) => dispatch => {\n\n  Util.getAllGoalsPerCommunity(comm_id)\n    .then(res => {\n      let promises = [];\n\n      res.data.data.forEach(goal => {\n        let req = axios({\n          url:`/api/submissions/count/${goal.id}`\n        })\n\n        promises.push(req)\n      })\n      return Promise.all(promises)\n              .then(res => {\n                let subObj = {}\n                //res in an array of responses\n                res.forEach((promise, i ) => {\n\n                  if(promise.data.count.length){\n                    subObj[promise.data.count[0].goal_id] = promise.data.count\n                  }\n                })\n                return dispatch(receiveSubmissionCount(subObj))\n              })\n\n    })\n}\n","import * as Util from '../util/util';\n\nimport axios from 'axios';\n\nexport const RECEIVE_ALLSUBSCRIPTIONS = 'RECEIVE_ALLSUBSCRIPTIONS';\nexport const RECEIVE_ALLSUBSCRIPTIONS_FORAUSER = 'RECEIVE_ALLSUBSCRIPTIONS_FORAUSER';\nexport const RECEIVE_ALLSUBS_PER_COMM = 'RECEIVE_ALLSUBS_PER_COMM';\n\n\nexport const recieveAllSubscriptions = subscriptions => {\n  return {\n    type: RECEIVE_ALLSUBSCRIPTIONS,\n    subscriptions\n  }\n}\nexport const receiveSubscriptionsPerComm = subscriptions => {\n  return {\n    type: RECEIVE_ALLSUBS_PER_COMM,\n    //obj with goal_id as keys\n    subscriptions\n  }\n}\n\nexport const fetchAllSubscriptions = () => dispatch => {\n  return Util.getAllSubscriptions()\n  .then(res => {\n    return dispatch(recieveAllSubscriptions(res.data))\n  })\n  .catch(err => console.log(err))\n}\n\nexport const recieveAllSubscriptionsForAUser = subscriptions => {\n  return {\n    type: RECEIVE_ALLSUBSCRIPTIONS_FORAUSER,\n    subscriptions\n  }\n}\n\n\nexport const fetchAllSubscriptionsForAUser = (user_id) => dispatch => {\n  return Util.getSubscriptionsForAUser(user_id)\n  .then(res => {\n    return dispatch(recieveAllSubscriptionsForAUser(res.data))\n  })\n  .catch(err => console.log(err))\n}\n\nexport const fetchAllSubscriptionsPerComm = (comm_id) => dispatch => {\n  Util.getAllGoalsPerCommunity(comm_id)\n    .then(res => {\n      let promises = [];\n      res.data.data.forEach(goal => {\n        let req = axios({\n          url:`/api/subscriptions/goal/${goal.id}`\n        })\n        promises.push(req)\n      })\n      return Promise.all(promises)\n              .then(res => {\n                let subObj = {}\n                //res in an array of responses\n                res.forEach((promise, i ) => {\n                  if(promise.data.subscriptions[i] !== undefined) {\n                    subObj[promise.data.subscriptions[i].goal_id] = promise.data.subscriptions\n                  }\n                })\n                return dispatch(receiveSubscriptionsPerComm(subObj))\n              })\n\n    })\n\n}\n","import GoalsList from '../components/GoalsList';\nimport { connect } from 'react-redux';\nimport { fetchAllGoals } from '../actions/GoalsActions';\nimport { fetchAllSubscriptions } from '../actions/SubscriptionsActions';\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    isLoggedIn:state.auth.isLoggedIn,\n    goals: state.goals.goals,\n    subscriptions: state.subscriptions.subscriptions\n  }\n}\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  return {\n    fetchAllGoals: () => dispatch(fetchAllGoals()),\n    fetchAllSubscriptions: () => dispatch(fetchAllSubscriptions()),\n  }\n}\n\nexport default connect (\n  mapStateToProps,\n  mapDispatchToProps\n)(GoalsList)\n","import React, { Component } from 'react';\nimport { VisualDisplay } from './VisualDisplay'\nimport { Tab, Tabs, Select } from 'react-materialize'\nimport '../css/home.css';\nimport GoalsListContainer from '../containers/GoalsListContainer';\n\n\nclass Home extends Component {\n  constructor() {\n    super()\n    this.state = {\n      borough:0,\n      subjects:'00'\n    }\n\n  }\n\n  componentDidUpdate(prevProps, prevState){\n    if (prevState.borough !== this.state.borough) {\n      window.scroll(0,document.body.scrollHeight)\n    }\n  }\n  componentDidMount() {\n    this.props.fetchTonnage();\n  }\n  handleChange = e => {\n    this.setState({\n      borough:e.target.value\n    })\n    window.scroll(0,document.body.scrollHeight)\n  }\n  tabChange = e => {\n    this.setState({\n      subjects:e\n    })\n\n  }\n\n    render() {\n    const { subjects } = this.state\n\n    let list;\n    if(subjects === '00'){\n      list = <GoalsListContainer boroughId={this.state.borough}/>\n    }\n      return (\n        <>\n        <div className=\"col s6\">\n          <Tabs onChange={this.tabChange} className=\" tab-demo z-depth-1\" options={{swipeable: true}}>\n            <Tab title=\"Monthly Tonnage\" active>\n            <div className=\"container\">\n              <h4 id='bold'>Take a dive in NYC's trash pile.</h4>\n              </div>\n                <div id=\"demo\">\n                <VisualDisplay />\n                <div className=\"container\">\n                  <p>* Each circle represents Monthly Tonnage for each borough between 2018-2019, according to NYC Open Data API.</p>\n                </div>\n                <h4 className=\"center\" id=\"bold\">OK. How Can I Help?</h4>\n              </div>\n            </Tab>\n            <Tab title=\"Air Pollution\">\n              <div className=\"container\"><h5>Coming soon ...</h5></div>\n            </Tab>\n            <Tab title=\"Energy Consumption\">\n              <div className=\"container\"><h5>Coming soon ...</h5></div>\n            </Tab>\n          </Tabs>\n          </div>\n          <div className=\"container borough-select\">\n          <div className ='input-field col s6'>\n          <Select name='borough' onChange={this.handleChange}>\n            <option value='0'>Select Borough</option>\n            <option value='1'>Manhattan</option>\n            <option value='2'>Queens</option>\n            <option value='3'>Bronx</option>\n            <option value='4'>Brooklyn</option>\n            <option value='5'>Staten Island</option>\n          </Select>\n          </div>\n          </div>\n\n          {list}\n\n        </>\n      )\n    }\n}\n\nexport default Home;\n","import * as Util from '../util/util';\nimport { normalizeData } from '../util/normalize';\n\nexport const RECEIVE_TONNAGE = \"RECEIVE_TONNAGE\";\n\nexport const receiveTonnage = tonnage => {\n  return {\n    type: RECEIVE_TONNAGE,\n    tonnage\n  }\n}\n\nexport const fetchTonnage = () => dispatch => { // thunk is expecting a function not an action. action is sent to reducer, hence wrapped in another function.\n  return Util.getTonnage() //create axios for tonnage\n            .then(res => {\n\n              return dispatch(receiveTonnage(normalizeData(res.data))) //key into axios response ..\n\n            })\n            .catch(err => {\n              console.log(err)\n            })\n};\n","export const normalizeData = (info) => {\n\n  let slicedInfo = info.filter(el => {return el.month.includes(\"2018\") || el.month.includes(\"2019\")})\n  //normalize\n  let data = {\n      bronx: [],\n      queens: [],\n      manhattan: [],\n      brooklyn: [],\n      staten_island: []\n    };\n    //divide objects per boroughs\n    slicedInfo.forEach(entry => {\n      switch (entry.borough) {\n        case \"Bronx\":\n          data.bronx.push(entry);\n          break;\n        case \"Manhattan\":\n          data.manhattan.push(entry);\n          break;\n        case \"Queens\":\n          data.queens.push(entry);\n          break;\n        case \"Brooklyn\":\n          data.brooklyn.push(entry);\n          break;\n        case \"Staten Island\":\n          data.staten_island.push(entry);\n          break;\n          default:\n           return null\n      }\n    });\n    //sum all districts and organize in obj\n    let summaries = {\n      bronx: {},\n      queens: {},\n      manhattan: {},\n      brooklyn: {},\n      staten_island: {}\n    };\n\n    for (let borough in data) {\n      data[borough].forEach(el => {\n        !summaries[borough][el.month]\n          ? (summaries[borough][el.month] = [el])\n          : summaries[borough][el.month].push(el);\n      });\n\n      for (let month in summaries[borough]) {\n        summaries[borough][month] =\n          summaries[borough][month].length > 1\n            ? summaries[borough][month].reduce((acc, el) => {\n                return acc + parseInt(el.refusetonscollected);\n              }, 0)\n            : parseInt(summaries[borough][month][0].refusetonscollected);\n      }\n    }\n  return [summaries];\n}\n","import Home from \"../components/Home\";\nimport { connect } from \"react-redux\";\nimport { fetchTonnage } from \"../actions/DataActions\";\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    tonnage: state.data.tonnage,\n  };\n};\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  return {\n    fetchTonnage: () => dispatch(fetchTonnage())\n  };\n};\n\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Home);\n","import React,  { Component } from 'react';\nimport '../css/aboutus.css'\n\n\nexport default class  AboutUs extends Component {\n  constructor(){\n    super()\n    this.state ={}\n    this.jonDiv = React.createRef()\n    this.rinatDiv = React.createRef()\n    this.michellDiv = React.createRef()\n    this.leoDiv = React.createRef()\n    this.topDiv =React.createRef()\n  }\n  clickJon = e => {\n    //.current is verification that your element has rendered\n    if (this.jonDiv.current) {\n      this.jonDiv.current.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"nearest\"\n      });\n    }\n  };\n  clickRinat = e => {\n    //.current is verification that your element has rendered\n    if (this.rinatDiv.current) {\n      this.rinatDiv.current.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"nearest\"\n      });\n    }\n  };\n  clickMichell = e => {\n    //.current is verification that your element has rendered\n    if (this.michellDiv.current) {\n      this.michellDiv.current.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"nearest\"\n      });\n    }\n  };\n  clickLeo = e => {\n    //.current is verification that your element has rendered\n    if (this.leoDiv.current) {\n      this.leoDiv.current.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"nearest\"\n      });\n    }\n  };\n  clickTop = e => {\n    if (this.topDiv.current) {\n      this.topDiv.current.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"nearest\"\n      });\n    }\n  }\n\n  render(){\n    return (\n      <div className='container about'>\n\n      <h2>Our Mission</h2>\n      <p className='flow-text'>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>\n      <h2>About Us</h2>\n      <p className='flow-text'> Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\n      <h2 ref={this.topDiv}>Meet The Envizo Team</h2>\n\n      <div className=\"us\">\n\n      <div className=\"us-buttons hide-on-med-and-up\">\n      <button  className=\"btn waves-effect waves-light\"onClick={this.clickJon}>Jon</button>\n      <button  className=\"btn waves-effect waves-light\"onClick={this.clickRinat}>Rinat</button>\n      <button  className=\"btn waves-effect waves-light\"onClick={this.clickMichell}>Michell</button>\n      <button  className=\"btn waves-effect waves-light\"onClick={this.clickLeo}>Leo</button>\n      </div>\n\n\n      <div ref={this.LeoDiv} className='me s6 m6 l6'>\n      <img className=\"ipic circle responsive-img\" alt='someone awesome' src=\"https://media.licdn.com/dms/image/C5603AQHOAyGVTY4jFw/profile-displayphoto-shrink_800_800/0?e=1561593600&v=beta&t=wbjMusyW99PlvWoCke87xNkR1BuUvFFjhdBKgx1QnKQ\"/>\n      <h5>Leo Lu</h5>\n      <p className=\"desc\">\n      Something about yourself here\n      </p>\n      <div className='contact'>\n      <a href='https://github.com/Godsby'><img alt='github' src=\"https://img.icons8.com/ios/50/000000/github-filled.png\"/></a>\n      <a href='https://www.linkedin.com/in/followingdreams/'><img alt='linkedin' src=\"https://img.icons8.com/ios/50/000000/linkedin-filled.png\"/></a>\n      </div>\n      </div>\n\n      <div ref={this.michellDiv} className='me s6 m6 l6'>\n      <img className=\"ipic circle responsive-img\" alt='someone awesome' src=\"https://media.licdn.com/dms/image/C4D03AQHNCQX_yyHPLQ/profile-displayphoto-shrink_800_800/0?e=1561593600&v=beta&t=cu32UAtRtaeO7ifc5aW3O0VPUDFZ2pP0YJ19O7YDYdg\"/>\n      <h5>Michell Tejada</h5>\n      <p className=\"desc\">\n      Something about yourself here\n      </p>\n      <div className='contact'>\n      <a href='https://github.com/mitejada'><img alt='github' src=\"https://img.icons8.com/ios/50/000000/github-filled.png\"/></a>\n      <a href='https://www.linkedin.com/in/michell-tejada-8a78b5174/'><img alt='linkedin' src=\"https://img.icons8.com/ios/50/000000/linkedin-filled.png\"/></a>\n      </div>\n      </div>\n\n      <div ref={this.rinatDiv} className='me s6 m6 l6'>\n      <img className=\"ipic circle responsive-img\" alt='someone awesome' src=\"https://media.licdn.com/dms/image/C4E03AQElsAzXkY2U8A/profile-displayphoto-shrink_800_800/0?e=1561593600&v=beta&t=HhzLXqcBI5k_1Dh8WFiGlTMxcXeSGMhtrwcAjwHY8-4\"/>\n      <h5>Rinat Tregerman</h5>\n      <p className=\"desc\">\n      Something about yourself here\n      </p>\n      <div className='contact'>\n      <a href='https://github.com/RinatTr'><img alt='github' src=\"https://img.icons8.com/ios/50/000000/github-filled.png\"/></a>\n      <a href='https://www.linkedin.com/in/rinat-tregerman/'><img alt='linkedin' src=\"https://img.icons8.com/ios/50/000000/linkedin-filled.png\"/></a>\n      </div>\n      </div>\n\n      <div ref={this.jonDiv} className='me s6 m6 l6'>\n        <img className=\"circle responsive-img\" alt='someone awesome' src=\"https://scontent-lga3-1.xx.fbcdn.net/v/t1.0-0/c0.92.370.370a/p370x247/56927150_2215805478511880_8949892781715750912_n.jpg?_nc_cat=109&_nc_ht=scontent-lga3-1.xx&oh=3da8e13beb787f5156d72baf1f10cdc4&oe=5D6755CD\"/>\n        <h5>Jonathan Andrade</h5>\n        <p className=\"desc\">\n        Something about yourself here\n        </p>\n        <div className='contact'>\n          <a href='https://github.com/xpectro93'><img alt='github' src=\"https://img.icons8.com/ios/50/000000/github-filled.png\"/></a>\n          <a href='https://www.linkedin.com/in/jonathan-andrade-571201175/'><img alt='linkedin' src=\"https://img.icons8.com/ios/50/000000/linkedin-filled.png\"/></a>\n        </div>\n        <button  className=\"btn waves-effect waves-light hide-on-med-and-up\"onClick={this.clickTop}>Top</button>\n      </div>\n\n\n      </div>\n\n\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport '../css/signup.css';\nimport ReactS3 from 'react-s3';\nimport { Redirect } from 'react-router-dom';\nimport { Select } from 'react-materialize';\nimport { uploadFile } from 'react-s3';\nlet aws = require('../util/secret.json')\n\n//fake key to prevent errors\n// let aws = {\n//   \"AWSAccessKeyId\":123,\n//   \"AWSSecretKey\":123\n// }\n\n//Optional Import\n\nconst config = {\n    bucketName: 'envizo-img',\n    region: 'us-east-1',\n    accessKeyId: aws[\"AWSAccessKeyId\"],\n    secretAccessKey: aws[\"AWSSecretKey\"]\n}\n\nclass Signup extends Component {\n  state = {\n    email:'',\n    username:'',\n    password:'',\n    passwordConfirm:'',\n    borough:1,\n    avatar_img:null,\n    error:false,\n    didUpload: false\n          }\n\n  componentDidMount(){\n  this.props.checkAuthenticateStatus()\n  }\n\n  handleChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    })\n  }\n  handleSelect = e => {\n    this.setState({\n      borough: e.target.value\n    })\n  }\n\n  upload = (e) => {\n    ReactS3.uploadFile(e.target.files[0], config)\n            .then((res) => {\n              this.setState({ avatar_img: res.location,\n                              didUpload: true })\n            })\n            .catch(err => console.log(err))\n  }\n\n  onSubmitNewUser = e => {\n    e.preventDefault();\n    let newuserData = {\n      username: this.state.username,\n      password:this.state.password,\n      email:this.state.email,\n      community_id:+this.state.borough,\n      avatar_img:this.state.avatar_img\n    }\n    // console.log(newuserData);\n    if(this.state.password===this.state.passwordConfirm){\n      this.props.newUser(newuserData);\n      this.setState({\n        username:\"\",\n        password:\"\",\n        passwordConfirm:'',\n        borough:1,\n        email:\"\",\n        avatar_img:\"\",\n        error:false\n      })\n    }else{\n      this.setState({\n        error:true\n      })\n    }\n  }\n\n  render(){\n    return (\n      <div className='container SignUpContainer'>\n        <div className='container'>\n          <h4>Sign Up</h4>\n        </div>\n        <form className='input-field col s6 FormContainer' onSubmit={this.onSubmitNewUser}>\n          <div className='input-field col s6'>\n            <label htmlFor=\"signup_email\">Email</label>\n              <input\n                type='text'\n                className=\"validate\"\n                id=\"'signup_email'\"\n                name='email'\n                value={this.state.emailInput}\n                onChange={this.handleChange}\n              />\n            </div>\n            <div className='input-field col s6'>\n              <label htmlFor=\"username\">Username</label>\n              <input\n                type='text'\n                className='signup_username'\n                name='username'\n                value={this.state.usernameInput}\n                onChange={this.handleChange}\n              />\n            </div>\n            <div className ='input-field col s6'>\n              <Select name='borough' onChange={this.handleSelect}>\n                <option value='0'>Select Borough</option>\n                <option value='1'>Manhattan</option>\n                <option value='2'>Queens</option>\n                <option value='3'>Bronx</option>\n                <option value='4'>Brooklyn</option>\n                <option value='5'>Staten Island</option>\n              </Select>\n            </div>\n            <div className='input-field col s6'>\n              <label htmlFor=\"password\">Password</label>\n              <input\n                type='password'\n                className='signup_password'\n                name='password'\n                value={this.state.passwordInput}\n                onChange={this.handleChange}\n              />\n            </div>\n            <div className='input-field col s6'>\n              <label htmlFor=\"passwordConfirm\">Confirm Password</label>\n              <input\n                type='password'\n                className='confirm_password'\n                name='passwordConfirm'\n                value={this.state.passwordConfirm}\n                onChange={this.handleChange}\n              />\n            </div>\n            <div className=\"file-field input-field\">\n              <div className=\"btn-small waves-effect waves-light\">\n                <span>Upload</span>\n                  <input\n                    type=\"file\"\n                    name=\"avatar\"\n                    accept=\".jpg, .jpeg, .png\"\n                    onChange={this.upload}/>\n              </div>\n              {this.state.didUpload ? \"Photo Uploaded!\" : \"Choose Photo and Wait to Load ...\"}\n              <div className=\"file-path-wrapper\">\n                <input className=\"file-path validate\" name='avatarpath' type=\"text\" />\n              </div>\n            </div>\n            <button className=\"btn-small waves-effect waves-light\" type=\"submit\" name=\"action\">Sign Up\n              <i className=\"material-icons right\">send</i>\n            </button>\n        </form>\n        {this.props.isLoggedIn\n          ? <Redirect to={`/profile/${this.props.auth.userId}`}></Redirect>\n          : null }\n        {this.state.error?<p>Check Input Entries</p>:null}\n\n        <div className=\"container\">\n          <h4>Already a member? <a href=\"/login\">Login</a></h4>\n        </div>\n      </div>\n    )\n  }\n\n}\n\nexport default Signup\n","const Auth = {\n  authenticateUser: token => {\n    localStorage.setItem(\"token\", token);\n  },\n  isUserAuthenticated: () => {\n    return localStorage.getItem(\"token\") !== null;\n  },\n  deauthenticateUser: () => {\n    localStorage.removeItem(\"token\");\n  },\n  getToken: () => {\n    return localStorage.getItem(\"token\");\n  }\n};\n\nexport default Auth;\n","// import * as Util from '../util.js';\nimport axios from 'axios'\nimport Auth from \"../util/Auth.js\"\n\nexport const NEW_USER = \"NEW_USER\";\nexport const LOG_IN = \"LOG_IN\";\nexport const CURRENT_USER = \"CURRENT_USER\"\n\n//logs out the user\nexport const logout = () => dispatch => {\n  axios\n    .post(\"/api/sessions/logout\")\n    .then(() => {\n      Auth.deauthenticateUser();\n    })\n    .then(() => {\n\n      checkAuthenticateStatus();\n    });\n}\n//checks if the user has the same id on the frontend as the user on the backend\nexport const checkAuthenticateStatus = () => dispatch => {\n\n\n  axios\n    .get(\"/api/sessions/isLoggedIn\").then(user => {\n\n    if (user.data.id === +Auth.getToken()){\n\n\n      dispatch({\n        type:LOG_IN,\n        payload:user.data\n      })\n\n      dispatch(loadCurrent())\n\n    } else {\n      if (user.data.id) {\n        logout()\n      } else {\n        Auth.deauthenticateUser();\n      }\n    }\n  })\n\n  ;\n}\nexport const newUser = newUserData => dispatch => {\n  axios\n  .post(\"/api/sessions/new\", newUserData)\n    .then(res => {\n      dispatch({\n        type:NEW_USER,\n        user:res\n      })\n\n      axios\n      .post(\"/api/sessions/login\",{username:newUserData.username, password:newUserData.password})\n        .then(res => {\n          Auth.authenticateUser(res.data.id);\n          dispatch({\n            type:LOG_IN,\n            payload:res.data.id\n          })\n        })\n      .then(()=> {\n        // console.log('in new User');\n        checkAuthenticateStatus()\n      })\n    })\n\n}\n\nexport const logIn = logInData => dispatch => {\n  axios\n  .post(\"/api/sessions/login\", logInData)\n    .then(res => {\n      // console.log('res of login', res.data);\n      Auth.authenticateUser(res.data.id);\n      dispatch({\n        type:LOG_IN,\n        payload:res.data\n      })\n\n    })\n    .then(()=> {\n      // console.log('check auth at login');\n      checkAuthenticateStatus();\n\n    })\n    .catch(err=> {\n      console.log(err);\n    })\n}\n\n\nexport const loadCurrent = () => dispatch => {\n  axios\n  .get(`/api/users/${+Auth.getToken()}`)\n    .then(res => {\n      dispatch({\n        type:CURRENT_USER,\n        payload:res.data.user\n      })\n    })\n    .catch(err => {\n      console.log(err);\n    })\n\n}\n","import SignUp from \"../components/Signup\";\nimport { connect } from \"react-redux\";\nimport {newUser, checkAuthenticateStatus, logout, loadCurrent } from \"../actions/AuthActions\";\nimport { withRouter } from 'react-router-dom'\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    user:state.auth.currentUser,\n    isLoggedIn:state.auth.isLoggedIn,\n    auth: state.auth\n  };\n};\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n\n  return {\n    newUser: userData => dispatch(newUser(userData)),\n    checkAuthenticateStatus: () => dispatch(checkAuthenticateStatus()),\n    logout: () => dispatch(logout()),\n    loadCurrent: () => dispatch(loadCurrent())\n  };\n};\n\nexport default withRouter(connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SignUp));\n","import React, { Component } from 'react'\nimport M from 'materialize-css'\nimport '../css/login.css'\nimport { Redirect } from 'react-router-dom'\n\nclass Login extends Component {\n  state = {\n    username:'dudette',\n    password:'12345'\n          }\n\n  componentDidMount(){\n  this.props.checkAuthenticateStatus()\n  M.updateTextFields()\n  }\n\n  handleChange = e => {\n    this.setState({\n      [e.target.name]:e.target.value\n    })\n  }\n\n  onSubmitLogIn = e => {\n  e.preventDefault();\n  let logInData = {\n    username: this.state.username,\n    password: this.state.password\n  }\n  this.props.logIn(logInData);\n\n}\n  logout = e => {\n    this.props.logout()\n    window.location.reload();\n  }\n\n  render(){\n\n    return (\n      <div className='container LogInContainer'>\n      <div className='input-field col s6'>\n        <h4>Log In</h4>\n      </div>\n        <form onSubmit={this.onSubmitLogIn}>\n        <div className='input-field col s6'>\n        <label htmlFor=\"username\">Username</label>\n          <input\n            type='text'\n            className='signup_username'\n            name='username'\n            value={this.state.usernameInput}\n            onChange={this.handleChange}\n          />\n          </div>\n          <div className='input-field col s6'>\n          <label htmlFor=\"password\">Password</label>\n          <input\n            type='password'\n            className='signup_password'\n            name='password'\n            value={this.state.passwordInput}\n            onChange={this.handleChange}\n          />\n          </div>\n          {this.props.isLoggedIn? <Redirect to={`/profile/${this.props.auth.userId}`}></Redirect>:\n          <div className=\"container\">\n          <button className=\"btn waves-effect waves-light\" type=\"submit\" name=\"action\">Login\n            <i className=\"material-icons right\">send</i>\n          </button>\n        </div>}\n        </form>\n        {this.props.isLoggedIn ?\n          <img src=\"https://media1.tenor.com/images/8d9e656f141cb596b9196287197bea37/tenor.gif?itemid=11705959\" alt=\"logintest\" />\n            :<div className=\"container\">\n                <h4>Not a member? <a href='/signup'>Sign up</a></h4>\n              </div>}\n      </div>\n    )\n  }\n\n}\n\n\n\n\nexport default Login\n","import Login from \"../components/Login\";\nimport { connect } from \"react-redux\";\nimport {logIn, checkAuthenticateStatus, logout, loadCurrent } from \"../actions/AuthActions\";\nimport { withRouter } from 'react-router-dom'\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    user:state.auth.currentUser,\n    isLoggedIn:state.auth.isLoggedIn,\n    auth: state.auth\n  };\n};\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n\n  return {\n    checkAuthenticateStatus: () => dispatch(checkAuthenticateStatus()),\n    logIn: logInData => dispatch(logIn(logInData)),\n    logout: () => dispatch(logout()),\n    loadCurrent: () => dispatch(loadCurrent())\n  };\n};\n\nexport default withRouter(connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Login));\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport { Row, Col, Collection, CollectionItem, Icon, Button } from 'react-materialize';\nimport { Link } from 'react-router-dom';\nimport '../css/user.css';\nimport {\n  FacebookIcon,\n  FacebookShareButton,\n  TwitterIcon,\n  TwitterShareButton,\n  TumblrIcon,\n  TumblrShareButton,\n} from 'react-share';\nimport Timeago from 'react-timeago';\n\nlet borough = {\n  1:'https://img3.goodfon.com/wallpaper/nbig/a/9b/new-york-city-new-york-1271.jpg',\n  2:'https://pbs.twimg.com/media/Drb0hVBWwAUvJSr.jpg',\n  3:'https://cdn-assets.alltrails.com/uploads/photo/image/19326941/extra_large_a08958fc25b15bb98cf4e1d17f1443c1.jpg',\n  4:'http://s1.1zoom.net/big0/603/Australia_Rivers_Boats_Brooklyn_Hawkesbury_River_540885_1280x800.jpg',\n  5:'https://cdn2.vox-cdn.com/uploads/chorus_asset/file/6695497/07_Kensinger_Mill_Creek_DSC_8839.0.jpg'\n}\n\nclass UserProfile extends Component {\n\n  state = {\n    community: []\n  }\n\n  componentDidMount() {\n    this.props.fetchAllGoals();\n    this.props.fetchAllUsers();\n    this.props.checkAuthenticateStatus();\n    this.getCommunityForAUser();\n    this.props.fetchAllSubscriptionsForAUser(this.props.match.params.id);\n    this.props.fetchUserActivity(this.props.match.params.id);\n  }\n\n  componentDidUpdate(prevProps){\n    if(this.props.match.params.id !== prevProps.match.params.id) {\n      this.props.fetchAllGoals();\n      this.props.fetchAllUsers();\n      this.props.checkAuthenticateStatus();\n      this.getCommunityForAUser();\n      this.props.fetchAllSubscriptionsForAUser(this.props.match.params.id);\n      this.props.fetchUserActivity(this.props.match.params.id);\n    }\n  }\n\n  getCommunityForAUser = () => {\n    axios.get(`/api/communities/user/${this.props.match.params.id}`)\n    .then(res => {\n      this.setState({\n        community: res.data.community\n      })\n    })\n    .catch(err => Error)\n  }\n\n  getActivities = () => {\n    const { community } = this.state;\n    const { auth, users, userActivity } = this.props;\n    const routeId = parseInt(this.props.match.params.id);\n    const theUser = users.find(user => user.id === routeId)\n    const userName = theUser ? (auth.currentUser.id === routeId ? 'You' : theUser.username) : null;\n    const userWord = theUser ? (auth.currentUser.id === routeId ? 'have' : 'has') : null;\n    let activityList;\n\n    if (userActivity.length) {\n      activityList = userActivity.map(activity => {\n        if(activity.type === 'joined') {\n          return (\n            <CollectionItem className='l2' key={activity.activity_id}>\n              <div className='joined'>\n                <div className='text'>\n                  <p className='left'>{userName} {userWord} joined\n                    <Link to={community.length ?  `/community/${community[0].id}` : 'not available' }>\n                      {' '}{ community.length ? community[0].name : 'Loading'}\n                    </Link> community.\n                  </p><br/>\n                  <p className='left grey-text'><Timeago date= {activity.time_stamp}/></p>\n                </div>\n                <div className='share_buttons'>\n                  <FacebookShareButton url='www.facebook.com' className=\"button\">\n                    <FacebookIcon size={32} round={true} />\n                  </FacebookShareButton>\n\n                  <TwitterShareButton url='www.twitter.com' className=\"button\">\n                    <TwitterIcon size={32} round={true} />\n                  </TwitterShareButton>\n\n                  <TumblrShareButton url='www.tumblr.com' className=\"button\">\n                    <TumblrIcon size={32} round={true} />\n                  </TumblrShareButton>\n                </div>\n              </div>\n            </CollectionItem>\n          )\n        } else if(activity.type === 'uploaded') {\n        return (\n          <CollectionItem className='l2' key={activity.id}>\n            <div className='joined'>\n              <div>\n                <p className='left'>{userName} {userWord} uploaded a photo {activity.title}.</p><br/>\n                <p className='left grey-text'><Timeago date= {activity.time_stamp}/></p>\n              </div>\n              <div className='share_buttons'>\n                <FacebookShareButton url='www.facebook.com' className=\"button\">\n                  <FacebookIcon size={32} round={true} />\n                </FacebookShareButton>\n\n                <TwitterShareButton url='/' className=\"button\">\n                  <TwitterIcon size={32} round={true} />\n                </TwitterShareButton>\n\n                <TumblrShareButton url='www.tumblr.com' className=\"button\">\n                  <TumblrIcon size={32} round={true} />\n                </TumblrShareButton>\n              </div>\n            </div>\n          </CollectionItem>\n        )\n        } else if(activity.type === 'subscribed') {\n        return (\n          <CollectionItem className='l2' key={activity.activity_id}>\n            <div className='joined' key={activity.id}>\n              <div>\n                <p className='left'>{userName} {userWord} subscribed to <a href={`/goal/${activity.goal_id}`} className='communityActivity_link'>{activity.title}</a>.</p><br/>\n                <p className='left grey-text'><Timeago date= {activity.time_stamp}/></p>\n              </div>\n              <div className='share_buttons'>\n                <FacebookShareButton url='www.facebook.com' className=\"button\">\n                  <FacebookIcon size={32} round={true} />\n                </FacebookShareButton>\n\n                <TwitterShareButton url='www.twitter.com' className=\"button\">\n                  <TwitterIcon size={32} round={true} />\n                </TwitterShareButton>\n\n                <TumblrShareButton url='www.tumblr.com' className=\"button\">\n                  <TumblrIcon size={32} round={true} />\n                </TumblrShareButton>\n              </div>\n            </div>\n          </CollectionItem>\n        )\n        } else {\n          return (\n            <CollectionItem className='l2' key={activity.id}>\n              <div className='joined'>\n                <div>\n                  <Link to={community.length ?  `/community/${community[0].id}` : null }>\n                    { community.length ? community[0].name : 'Loading'}\n                  </Link> {userWord} reached a milestone.<br/>\n                  <p className='left grey-text'><Timeago date= {activity.time_stamp}/></p>\n                </div>\n                <div className='share_buttons'>\n                  <FacebookShareButton url='www.facebook.com' className=\"button\">\n                    <FacebookIcon size={32} round={true} />\n                  </FacebookShareButton>\n\n                  <TwitterShareButton url='www.twitter.com' className=\"button\">\n                    <TwitterIcon size={32} round={true} />\n                  </TwitterShareButton>\n\n                  <TumblrShareButton url='www.tumblr.com' className=\"button\">\n                    <TumblrIcon size={32} round={true} />\n                  </TumblrShareButton>\n                </div>\n              </div>\n            </CollectionItem>\n          )\n        }\n      })\n    } else {\n      activityList = (\n        <CollectionItem className='l2' >\n          <p>No Activities yet...</p>\n        </CollectionItem>\n      )\n    }\n    return activityList;\n  }\n\n  render() {\n    // let boroughid = this.props.auth.currentUser.community_id\n    const { community } = this.state;\n    const communityId = community.length ? community[0].id : null;\n    // const { subscriptions.subscripUser } = this.props.subscriptions;\n    const { users, match, subscriptions } = this.props;\n    const routeId = parseInt(match.params.id);\n    const userObj = users.find(user => user.id === routeId)\n    const userName = userObj ? userObj.username : \"\";\n    // const { users } = this.props;\n    //loop through subscritionsForAUser and get goals that the user subscribed\n    let imgUrl = userObj ? userObj.avatar_img : '';\n    // if ( subscriptions.subscripUser ) {\n    //   const usersInfo = subscriptions.subscripUser.find(user => {\n    //     return user.user_id === parseInt(this.props.match.params.id)\n    //   })\n    //   if (usersInfo) {\n    //     imgUrl = usersInfo.avatar_img\n    //     console.log(imgUrl);\n    //   } else {\n    //     imgUrl = 'subscribe to show photo'\n    //   }\n    // }\n\n    const goalsList = subscriptions.subscripUser.length ? subscriptions.subscripUser.map(goal => {\n      return (\n        <CollectionItem key={goal.goal_id} className=\"community-goal\" onClick={()=>this.props.history.push(`/goal/${goal.goal_id}`)}>\n          { goal.title }\n          <a href={`/goal/${goal.goal_id}`} className='secondary-content'>\n            <Icon>\n              arrow_forward\n            </Icon>\n          </a>\n        </CollectionItem>\n      )\n    }) : (\n      <>\n      <CollectionItem>\n        <h6>No subscriptions...please click to subscribe ;)</h6>\n      </CollectionItem>\n      <CollectionItem>\n        <Button type=\"submit\" waves=\"light\">\n          <a href={`/goals/community/${communityId}`} className='secondary-content'>\n            <div className='white-text'>\n              Subscribe\n              <Icon right>\n              send\n              </Icon>\n            </div>\n          </a>\n        </Button>\n      </CollectionItem>\n      </>\n    )\n\n    return (\n      <div className='user_profile'>\n        <Row className='center'>\n\n          {/* User side */}\n          <Col l={4} className=\"white push-l1 m10 s12 black-text z-depth-3 no-pad\">\n\n                <div className=\"pic-container\">\n                  <img src={community[0]?borough[community[0].id]:null} alt=\"borough\" className='borough responsive-img' />\n                  <span className=\"borough-title\">\n                    <Link to={community.length ?  `/community/${community[0].id}` : 'not available' }>\n                      { community.length ? <h4 className ='boroughName' id=\"bold\">{community[0].name}</h4> : 'Loading'}\n                    </Link>\n                  </span>\n                  <img src={imgUrl} alt='' className=\"circle profile-pic z-depth-3 center\"></img>\n                </div>\n                <div>\n                  <h4 className=\"username\">{userName}</h4>\n                </div>\n                <h5>What Motivates You?</h5>\n              <Collection className=\"no-pad\">\n              { goalsList }\n              </Collection>\n\n          </Col>\n\n          {/* Activities side */}\n          <Col l={5} className=\"offset-l2 m10 s12 black-text z-depth-3 no-pad\">\n\n              <Collection header='Feed' className=\"no-pad\">\n              {this.getActivities()}\n              </Collection>\n          </Col>\n\n        </Row>\n      </div>\n    )\n  }\n}\n\nexport default UserProfile;\n","import * as Util from '../util/util';\n\nexport const RECEIVE_ALLUSERS = 'RECEIVE_ALLUSERS';\nexport const RECEIVE_USERACTIVITY = 'RECEIVE_USERACTIVITY';\n\nexport const receiveAllUsers = users => {\n  return {\n    type: RECEIVE_ALLUSERS,\n    users\n  }\n}\n\nexport const fetchAllUsers = () => dispatch => {\n  return Util.getAllUsers()\n    .then(res => {\n      return dispatch(receiveAllUsers(res.data.users))\n    })\n    .catch(err => {\n      console.log(err);\n      \n    })\n}\n\nexport const receiveUserActivity = activity => {\n  return {\n    type: RECEIVE_USERACTIVITY,\n    activity\n  }\n}\n\nexport const fetchUserActivity = user_id => dispatch => {\n  return Util.getActivityPerUser(user_id)\n  .then(res => {\n    return dispatch(receiveUserActivity(res.data.data))\n  })\n  .catch(err => console.log(Error))\n}\n","import UserProfile from '../components/UserProfile';\nimport { connect } from 'react-redux';\nimport { fetchAllGoals } from '../actions/GoalsActions';\nimport { checkAuthenticateStatus } from '../actions/AuthActions';\nimport { fetchAllUsers, fetchUserActivity } from '../actions/UserActions';\nimport { fetchAllSubscriptionsForAUser } from '../actions/SubscriptionsActions';\n\nconst mapStateToProps = (state, ownProps) => {\n  // console.log(state)\n  return {\n    auth: state.auth,\n    goals: state.goals.goals,\n    users: state.users,\n    subscriptions: state.subscriptions,\n    userActivity: state.userActivity\n  }\n}\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  return {\n    fetchAllGoals: () => dispatch(fetchAllGoals()),\n    checkAuthenticateStatus: () => dispatch(checkAuthenticateStatus()),\n    fetchAllUsers: () => dispatch(fetchAllUsers()),\n    fetchAllSubscriptionsForAUser: (user_id) => dispatch(fetchAllSubscriptionsForAUser(user_id)),\n    fetchUserActivity: (user_id) => dispatch(fetchUserActivity(user_id))\n  }\n}\n\nexport default connect (\n  mapStateToProps,\n  mapDispatchToProps\n ) (UserProfile);\n","import React from 'react';\nimport '../css/puzzle.css';\n// import Gallery from 'react-photo-gallery';\n// var reactPhotoGallery = require(\"react-photo-gallery\");\n\nconst Puzzle = ({submissions}) => {\n  let mapSubs = [];\n  // 500 - target value\n  for (let i = 0; i < 500; i++ ) {\n    if (i < submissions.length) {\n      mapSubs.push(<div className=\"sub-img-wrapper\"><img className=\"user-sub-img\" src={submissions[i].img_url} alt=\"puzzle piece\"/></div>)\n    } else {\n      mapSubs.push(<div className=\"sub-img-wrapper\" key={i} ></div>)\n    }\n  }\n\n  return (<div className=\"container-puzzle\">{mapSubs.reverse()}</div>)\n}\n\nexport default Puzzle;\n","\nimport React, { Component } from 'react';\nimport { Col , Row, ProgressBar } from 'react-materialize'\nimport { getSingleSubscriptionIdForUserAndGoal, addSubscription, deleteSubscription } from '../util/util';\nimport { addSubmission } from '../util/util'\nimport Puzzle from './Puzzle'\nimport '../css/singlegoal.css';\nimport ReactS3 from 'react-s3';\nimport { uploadFile } from 'react-s3';\nimport axios from 'axios'\nlet aws = require('../util/secret.json')\n\n// fake key to prevent errors\n// let aws = {\n//   \"AWSAccessKeyId\":123,\n//   \"AWSSecretKey\":123\n// }\n\nconst config = {\n    bucketName: 'envizo-img',\n    region: 'us-east-1',\n    accessKeyId: aws[\"AWSAccessKeyId\"],\n    secretAccessKey: aws[\"AWSSecretKey\"]\n}\n\nexport default class SingleGoal extends Component {\n  state = {\n    loggedUserSubId: \"\",\n    didUpload: false,\n    goalInfo:[]\n  }\n\n  componentDidMount() {\n    let { loggedUser } = this.props;\n    // let { loggedUserSubId } = this.state;\n    let userId = loggedUser.id;\n    let goalId = this.props.match.params.goal_id;\n    this.getGoal()\n    this.refreshSubscriptions(userId, goalId)\n\n  }\n\n\n  componentDidUpdate(prevProps) {\n    let { loggedUser } = this.props;\n    if (loggedUser.id !== prevProps.loggedUser.id) {\n      let userId = loggedUser.id\n      let goalId = +this.props.match.params.goal_id\n      this.refreshSubscriptions(userId, goalId)\n    }\n  }\n\n  handleSubscribe = (e) => {\n    let { loggedUser, match } = this.props;\n    let { loggedUserSubId } = this.state;\n    let userId = loggedUser.id;\n    let goalId = match.params.goal_id;\n      if (e.target.innerText.slice(0,3) === \"SUB\") {\n        addSubscription({ user_id: userId , goal_id: goalId }).then((res) => {\n          this.refreshSubscriptions(userId, goalId);\n        })\n      } else {\n        deleteSubscription(loggedUserSubId).then((res) => {\n          this.refreshSubscriptions(userId, goalId);\n        })\n      }\n  }\n  getGoal = () => {\n    axios.get(`/api/goals/${this.props.match.params.goal_id}`)\n      .then(res=> {\n        this.setState({\n          goalInfo:[res.data.data]\n        })\n      })\n  }\n  //normalized desc\n  nd = (description) => {\n   let arr = (description).split('@$'),\n    obj = {\n     description: arr[0],\n     initiative: arr[1],\n     slogan: arr[2]\n   }\n   return obj\n  }\n\n\n  handleUpload = (e) => {\n    let { loggedUser, match } = this.props;\n    let sub = { img_url:\"\" , goal_id: match.params.goal_id }\n\n    ReactS3.uploadFile(e.target.files[0], config)\n            .then((res) => {\n              sub.img_url = res.location;\n              this.setState({ didUpload: true })\n              addSubmission(loggedUser.id, sub)\n            })\n            .then(() => {\n              window.location.reload()\n            })\n            .catch(err => console.log(err))\n  }\n\n  refreshSubscriptions = (userId, goalId) => {\n    getSingleSubscriptionIdForUserAndGoal(userId, goalId)\n      .then((res) => {\n          this.props.fetchSubscriptionsPerGoal(goalId);\n          let newValue = res.data.subId.length ? res.data.subId[0].id : \"\" ;\n          return this.setState({ loggedUserSubId: newValue });\n      })\n  }\n\n  render(){\n    let { loggedUserSubId, goalInfo } = this.state\n    let { submissions, subscriptions, loggedUser } = this.props;\n\n    let percAll = submissions && goalInfo[0] ? (submissions.length/+goalInfo[0].target_value*100).toFixed(2) : 0;\n    let countUserSubs = submissions ? (submissions.filter(el => el.user_id === loggedUser.id)).length : null\n    let percUser = submissions && goalInfo[0] ? (countUserSubs/+goalInfo[0].target_value*100).toFixed(2) : 0 ;\n    return(\n      submissions && goalInfo[0] ? (\n      <div className=\"container\">\n        <div className=\"goal-header\">\n          <h4 id=\"bold\">{goalInfo[0].title}</h4>\n            <div className=\"subs\">\n              <button className=\"btn waves-effect waves-light\" onClick={this.handleSubscribe}> {loggedUserSubId ? \"Unsubscribe \" : \"Subscribe \"}{subscriptions ? subscriptions.length : null}</button>\n            </div>\n        </div>\n        <h4>{this.nd(goalInfo[0].description).description}</h4>\n        { loggedUser.id && loggedUserSubId ?\n        <Row>\n          <Col s={12}>\n            <h4>Your Contribution</h4>\n            <h5>{countUserSubs}/{goalInfo[0].target_value} total pictures</h5>\n            <ProgressBar className={percUser > 99 ? \"finished\":'not-finished'} progress={+percUser} />\n          </Col>\n        </Row>\n        : null }\n        <Row>\n          <Col s={12}>\n            <h4><a id='bold' href={`/community/${goalInfo[0].community_id}`}>{goalInfo[0].community}</a> Contributions</h4>\n            <h5>{percAll}%</h5>\n            <ProgressBar className={percAll > 99 ? \"finished\":'not-finished'} progress={+percAll} />\n          </Col>\n          <div className=\"container puzzle-area\">\n            <div className=\"file-field input-field\">\n              <div className=\"btn-small waves-effect waves-light\">\n                <span>Upload photo</span>\n                  <input\n                    type=\"file\"\n                    name=\"avatar\"\n                    accept=\".jpg, .jpeg, .png\"\n                    onChange={this.handleUpload}\n                  />\n              </div>\n              <div className=\"file-path-wrapper\">\n                <input className=\"file-path validate\" name='avatarpath' type=\"text\" />\n              </div>\n            </div>\n            <Puzzle submissions={submissions} />\n          </div>\n        </Row>\n\n\n      </div>\n    ) : \"\"\n    )\n  }\n}\n\n// // subscribe function\n// // photo upload\n","import React from 'react';\nimport { Col, ProgressBar } from 'react-materialize';\nimport { Link } from 'react-router-dom';\n\nconst GoalDisplay = ({title, usernames, goalId, percAll, handleSubscribe, isSubscribed, subscriptionCount }) => {\n  let mapUsers = usernames ? usernames.map((user,i) => {return <li key={i}>{user}</li>} ).slice(0,5) : \"\"\n  return (\n    <div className=\"goal-display-container\">\n      <div className=\"goal-header\">\n        <h4><Link to={`/goal/${goalId}`}>{title}</Link></h4>\n        <div className=\"subs\">\n          <button className=\"btn waves-effect waves-light\" onClick={handleSubscribe} id={isSubscribed[1] ? isSubscribed[1].id+\"'\"+isSubscribed[1].goal_id : 0+\"'\"+goalId}> {isSubscribed[0] ? \"Unsubscribe \" : \"Subscribe \"}{subscriptionCount ? subscriptionCount : null}</button>\n        </div>\n      </div>\n        <Col s={12}>\n        <h4>{percAll}%</h4>\n        <ProgressBar className={percAll > 99 ? \"finished\":'not-finished'} progress={percAll} />\n        </Col>\n\n        <ul>\n          <Link to={`/goal/${goalId}`}>{mapUsers.length ? \"Recently joined members\" : \"\"}{mapUsers.length ? mapUsers : \"\"}{mapUsers.length ? \" ...\" : \"\"}</Link>\n        </ul>\n    </div>\n  )\n}\n\nexport default GoalDisplay;\n","import React, { Component } from 'react';\nimport { getSingleSubscriptionIdForUserAndGoal, addSubscription, deleteSubscription } from '../util/util';\nimport GoalDisplay from './GoalDisplay'\nimport '../css/singlegoal.css';\n\nexport default class CommunityGoal extends Component {\n  state = {\n    loggedUserSubId: \"\"\n  }\n\n  componentDidUpdate(prevProps) {\n    let { loggedUser } = this.props;\n    if (loggedUser.id !== prevProps.loggedUser.id) {\n      this.refreshProps()\n    }\n  }\n\n  handleSubscribe = (e) => {\n    let { loggedUser, match } = this.props;\n    let { loggedUserSubId } = this.state;\n    let userId = loggedUser.id;\n    let subStr = e.target.id\n    let innerText = e.target.innerText.slice(0,3)\n    let sub = subStr.split(\"'\");\n    let goalId = sub[1];\n\n    this.refreshSubscriptionsForUserAndGoal(userId, goalId)\n          .then(() => {\n            if (innerText === \"SUB\") {\n              addSubscription({ user_id: userId , goal_id: goalId }).then((res) => {\n                this.refreshSubscriptionsForUserAndGoal(userId, goalId);\n                this.refreshProps();\n              })\n            } else {\n              deleteSubscription(sub[0]).then((res) => {\n                this.refreshSubscriptionsForUserAndGoal(userId, goalId);\n                this.refreshProps();\n              })\n            }\n          })\n  }\n\n  refreshSubscriptionsForUserAndGoal = (userId, goalId) => {\n    return getSingleSubscriptionIdForUserAndGoal(userId, goalId)\n            .then((res) => {\n                this.props.fetchSubscriptionsPerGoal(goalId);\n                let newValue = res.data.subId.length ? res.data.subId[0].id : \"\" ;\n                return this.setState({ loggedUserSubId: newValue });\n            })\n  }\n    refreshProps = () => {\n      let {match} = this.props;\n      if (this.props.loggedUser.id) {\n        this.props.fetchAllSubscriptionsForAUser(this.props.loggedUser.id);\n      }\n      this.props.fetchAllSubscriptionsPerComm(match.params.community_id);\n      this.props.fetchAllSubmissionCountPerComm(match.params.community_id);\n      this.props.fetchAllGoalsPerCommunity(match.params.community_id);\n    }\n  //make helper functions for each needed props:\n    calcProgress = (submissionCount, target) => {\n      let percentage = (submissionCount/target*100).toFixed(2);\n      return percentage;\n    }\n    getUserNames = (goalId) => {\n      let { community } = this.props;\n      let usernames = [];\n      if (community.subscriptions_per_goal) {\n        if (community.subscriptions_per_goal[goalId] !== undefined) {\n          let subs = community.subscriptions_per_goal[goalId]\n          subs.forEach(sub => usernames.push(sub.username))\n        }\n      }\n      return usernames;\n    }\n    isSubscribed = (goalId) => {\n      let { community, loggedUser } = this.props;\n      let isSub = false;\n      let userSub = null;\n      if (community.subscriptions_per_goal && loggedUser.id ) {\n        if (community.subscriptions_per_goal[goalId] !== undefined) {\n          userSub = community.subscriptions_per_goal[goalId].find(sub => sub.user_id === loggedUser.id);\n          isSub = userSub ? true : false ;\n        }\n      }\n      return [isSub, userSub];\n    }\n    submissionCount = (goalId) => {\n      let { community } = this.props;\n      let count = 0;\n      if (community.submissions_count_per_goal) {\n        if (community.submissions_count_per_goal[goalId] !== undefined) {\n          count = community.submissions_count_per_goal[goalId][0].submissions_count\n        }\n      }\n      return count;\n    }\n    subscriptionCount = (goalId) => {\n      let { community } = this.props;\n      let count = 0;\n      if (community.subscriptions_per_goal) {\n        if (community.subscriptions_per_goal[goalId] !== undefined) {\n          count = Object.keys(community.subscriptions_per_goal[goalId]).length\n        }\n      }\n      return count;\n    }\n\n  render() {\n    let { community } = this.props;\n    let mapGoals = community.goals ? community.goals.data.map(goal => {\n      return <GoalDisplay\n                title={goal.title}\n                goalId={goal.id}\n                usernames={this.getUserNames(goal.id)}\n                percAll={this.calcProgress(this.submissionCount(goal.id), goal.target_value)}\n                handleSubscribe={this.handleSubscribe}\n                isSubscribed={this.isSubscribed(goal.id)}\n                subscriptionCount={this.subscriptionCount(goal.id)}\n             />\n    }) : \"\"\n\n    return(\n      community.goals !== undefined ? (\n      <div className=\"container\">\n        <div className=\"goal-header\">\n          <h4 id=\"bold\">Goals for {community.goals.data[0].community}</h4>\n        </div>\n        {mapGoals ? mapGoals : \"\"}\n      </div>\n    ) : \"\"\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport SingleGoal from './SingleGoal';\nimport CommunityGoals from './CommunityGoals';\n\nexport default class Goals extends Component {\n  componentDidMount() {\n    let { match, loggedUser } = this.props;\n    this.props.checkAuthenticateStatus()\n    if (loggedUser.id) { this.props.fetchAllSubscriptionsForAUser(loggedUser.id) }\n    if (match.params.goal_id) {\n      this.props.fetchSubmissionsPerGoal(match.params.goal_id);\n      this.props.fetchSubscriptionsPerGoal(match.params.goal_id);\n    } else {\n      this.props.fetchAllSubscriptionsPerComm(match.params.community_id)\n      this.props.fetchAllSubmissionCountPerComm(match.params.community_id)\n      this.props.fetchAllGoalsPerCommunity(match.params.community_id);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    this.refreshProps(prevProps)\n  }\n\n  refreshProps = (prevProps) => {\n    let { match, loggedUser } = this.props;\n    if (match.path !== prevProps.match.path) {\n      this.props.fetchSubmissionsPerGoal(match.params.goal_id);\n      this.props.fetchSubscriptionsPerGoal(match.params.goal_id);\n      this.props.checkAuthenticateStatus()\n      if (loggedUser.id) {\n        this.props.fetchAllSubscriptionsForAUser(loggedUser.id)\n      }\n    }\n  }\n\n  render() {\n    let { match } = this.props;\n\n    return (\n      <React.Fragment>\n      {match.params.goal_id ? <SingleGoal {...this.props}/> : <CommunityGoals {...this.props}/>}\n      </React.Fragment>\n      )\n  }\n\n}\n","import Goals from '../components/Goals';\nimport { connect } from 'react-redux';\nimport { fetchSubmissionsPerGoal,\n         fetchSubscriptionsPerGoal,\n         fetchAllGoalsPerCommunity,\n         fetchAllSubmissionCountPerComm } from '../actions/GoalsActions';\nimport { fetchAllSubscriptionsForAUser, fetchAllSubscriptionsPerComm } from '../actions/SubscriptionsActions'\nimport { checkAuthenticateStatus } from '../actions/AuthActions';\n\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    loggedUser: state.auth.currentUser,\n    submissions: state.goals.submissions,\n    subscriptions: state.goals.subscriptions,\n    subsPerUser: state.subscriptions.subscripUser,\n    community: {  subscriptions_per_goal: state.subscriptions.community,\n                  submissions_count_per_goal: state.goals.subCount,\n                  goals: state.goals.goalsComm }\n  }\n}\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  return {\n    fetchAllSubmissionCountPerComm: (comm_id) => dispatch(fetchAllSubmissionCountPerComm(comm_id)),\n    fetchAllSubscriptionsPerComm: (comm_id) => dispatch(fetchAllSubscriptionsPerComm(comm_id)),\n    fetchAllGoalsPerCommunity: (comm_id) => dispatch(fetchAllGoalsPerCommunity(comm_id)),\n    fetchAllSubscriptionsForAUser: (user_id) => dispatch(fetchAllSubscriptionsForAUser(user_id)),\n    fetchSubmissionsPerGoal: (goalId) => dispatch(fetchSubmissionsPerGoal(goalId)),\n    fetchSubscriptionsPerGoal: (goalId) => dispatch(fetchSubscriptionsPerGoal(goalId)),\n    checkAuthenticateStatus: () => dispatch(checkAuthenticateStatus())\n  }\n}\n\nexport default connect (\n  mapStateToProps,\n  mapDispatchToProps\n)(Goals)\n","import React, { Component } from 'react';\nimport { NavLink, Link } from 'react-router-dom';\nimport M from 'materialize-css';\n// import { Chip, Navbar as Nav } from 'react-materialize'\nimport logo from './navbarLogo.png'\nimport './css/navbar.css'\n\nclass Navbar extends Component {\n  constructor(){\n    super()\n    this.state = {\n\n    }\n  }\n\n  componentDidMount(){\n    this.props.checkAuthenticateStatus();\n    document.addEventListener('DOMContentLoaded', function () {\n      var elems = document.querySelectorAll('.sidenav');\n      M.Sidenav.init(elems);\n    });\n  }\n\n  logout = (event) => {\n    this.props.logout()\n    window.location='/'\n  }\n\nrender(){\n  // if(!this.props.isLoggedIn) {\n  //   return <Redirect to='/'></Redirect>\n  // }\n  const navbarTernary = this.props.auth.isLoggedIn ? (\n    <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n      <div className='navbar_registration'>\n        <li>\n          <Link to={`/profile/${this.props.auth.currentUser.id}`}>\n              <div className=\"usernav-img-wrapper\">\n                <img src={this.props.auth.currentUser.avatar_img} className=\"responsive-img circle\" alt=\"Contact Person\" />\n                  <h5 id=\"beige\">{this.props.auth.currentUser.username}</h5>\n              </div>\n          </Link>\n        </li>\n        <li><NavLink to={`/community/${this.props.auth.currentUser.community_id}`} className='nav-commmunity'><h5 id=\"beige\">My Community</h5></NavLink></li>\n        <li><NavLink exact to=\"/\" className='logout' onClick={this.logout}><h5 id=\"beige\">Logout</h5></NavLink></li>\n      </div>\n    </ul>\n    ) :\n  <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n    <div className='navbar_registration'>\n    <li><NavLink to=\"/signup\" className='signup'><h5 id=\"beige\">Sign Up</h5></NavLink></li>\n    <li><NavLink to=\"/login\" className='login'><h5 id=\"beige\">Login</h5></NavLink></li>\n    <li><NavLink to=\"/aboutus\" className='aboutus'><h5 id=\"beige\">About Us</h5></NavLink></li>\n    </div>\n  </ul>\n  return (\n    <div>\n      <nav>\n        <div className=\"nav-wrapper\">\n          <div className='logo_img'><a href='/'><img src={logo} alt='' className=\"brand-logo responsive-img\"></img></a></div>\n          <a href=\"/\" data-target=\"mobile-demo\" className=\"sidenav-trigger\"><i className=\"material-icons\">menu</i></a>\n            {navbarTernary}\n        </div>\n      </nav>\n      {this.props.auth.isLoggedIn ?\n      <ul className=\"sidenav\" id=\"mobile-demo\">\n        <li className=\"sidenav-close\" ><NavLink exact to='/'>Home</NavLink></li>\n        <li className=\"sidenav-close\" ><NavLink to={`/profile/${this.props.auth.userId}`}>My Profile</NavLink></li>\n        <li className=\"sidenav-close\" ><NavLink to={`/community/${this.props.auth.currentUser.community_id}`} className='nav-commmunity'>My Community</NavLink></li>\n        <li className=\"sidenav-close\" ><NavLink to='/aboutus'>About Us</NavLink></li>\n        <li className=\"sidenav-close\" ><NavLink exact to=\"/\" onClick={this.logout}>Logout</NavLink></li>\n      </ul> :\n      <ul className=\"sidenav\" id=\"mobile-demo\">\n        <li className=\"sidenav-close\" ><NavLink to='/signup'>Sign Up</NavLink></li>\n        <li className=\"sidenav-close\" ><NavLink to='/login'>Login</NavLink></li>\n        <li className=\"sidenav-close\" ><NavLink to='/aboutus'>About Us</NavLink></li>\n      </ul> }\n\n    </div>\n  )\n}\n }\n\nexport default Navbar\n","import { connect } from 'react-redux';\nimport { logout, loadCurrent, checkAuthenticateStatus } from '../actions/AuthActions';\nimport Navbar from '../Navbar';\n\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    auth: state.auth,\n    user: state.auth.currentUser,\n    \n  }\n}\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n\n  return {\n    logout: () => dispatch(logout()),\n    loadCurrent: () => dispatch(loadCurrent()),\n    checkAuthenticateStatus:() => dispatch(checkAuthenticateStatus())\n  };\n};\n\n\nexport default connect (\n  mapStateToProps,\n  mapDispatchToProps\n) (Navbar)\n","import * as Util from '../util/util'\n\nexport const RECEIVE_ALLACTIVITY_FORACOMMUNITY = 'RECEIVE_ALLACTIVITY_FORACOMMUNITY';\n\nexport const receiveAllCommunityActivity = activity => {\n  return {\n    type: RECEIVE_ALLACTIVITY_FORACOMMUNITY,\n    activity\n  }\n}\n\nexport const fetchAllCommunityActivity = (community_id) => dispatch => {\n  return Util.getAllActivityForACommunity(community_id)\n  .then(res => {\n    return dispatch(receiveAllCommunityActivity(res.data))\n  })\n  .catch(err => console.log(Error))\n}","import React, { Component } from 'react';\nimport { Row, Col, Collection, CollectionItem, Icon, Button } from 'react-materialize';\nimport '../css/community.css'\nimport Timeago from 'react-timeago';\n\nlet borough = {\n  1:{imgUrl:'https://img3.goodfon.com/wallpaper/nbig/a/9b/new-york-city-new-york-1271.jpg',\n     communityName:'Manhattan'},\n  2:{imgUrl:'https://pbs.twimg.com/media/Drb0hVBWwAUvJSr.jpg',\n     communityName:'Queens'},\n  3:{imgUrl:'https://cdn-assets.alltrails.com/uploads/photo/image/19326941/extra_large_a08958fc25b15bb98cf4e1d17f1443c1.jpg',\n     communityName:'Bronx'},\n  4:{imgUrl:'http://s1.1zoom.net/big0/603/Australia_Rivers_Boats_Brooklyn_Hawkesbury_River_540885_1280x800.jpg',\n     communityName:'Brooklyn'},\n  5:{imgUrl:'https://cdn2.vox-cdn.com/uploads/chorus_asset/file/6695497/07_Kensinger_Mill_Creek_DSC_8839.0.jpg',\n     communityName:'Staten Island'}\n}\n\nclass CommunityProfile extends Component {\n  componentDidMount() {\n    this.props.fetchAllCommunityActivity(this.props.match.params.id);\n    this.props.fetchAllGoalsPerCommunity(this.props.match.params.id);\n  }\n\n  click = e => {\n    e.preventDefault();\n    // this.props.history.push(/goal/${goals.id}')\n  }\n\n  getActivities = () => {\n    const { activity } = this.props;\n\n    if (activity) {\n      const activityList = activity.map((activity, i) => {\n\n        if(activity.type === 'joined') {\n          return (\n            <CollectionItem className='avatar' key={i +activity.type} >\n              <img src={activity.avatar_img} alt=\"\" className=\"circle\" />\n                <p className = \"title left\" >\n                <a href={`/profile/${activity.usersid}` } className='communityActivity_username'>{activity.username}</a> has joined the community.\n                </p>\n                <br />\n                <p className='left grey-text'><Timeago date= {activity.time_stamp}/></p>\n            </CollectionItem>\n          )\n          } else if(activity.type === 'uploaded') {\n          return (\n            <CollectionItem className='avatar' key={i +activity.type} >\n              <img src={activity.avatar_img} alt=\"\" className=\"circle\" />\n                <p className = \"title left\" >\n                <a href={`/profile/${activity.usersid}` } className='communityActivity_username'>{activity.username}</a> uploaded a photo to <a href={`/goal/${activity.goal_id}`} className='communityActivity_link'>{activity.title}</a>.\n                </p>\n                <br />\n                <p className='left grey-text'><Timeago date= {activity.time_stamp}/></p>\n            </CollectionItem>\n          )\n        } else if(activity.type === 'subscribed') {\n          return (\n            <CollectionItem className='avatar' key={i +activity.type}>\n              <img src={activity.avatar_img} alt=\"\" className=\"circle\" />\n                <p className = \"title left\" >\n                <a href={`/profile/${activity.usersid}` } className='communityActivity_username'>{activity.username}</a> has subscribed to <a href={`/goal/${activity.goal_id}`} className='communityActivity_link'>{activity.title}</a>.\n                </p>\n                <br />\n                <p className='left grey-text'><Timeago date= {activity.time_stamp}/></p>\n            </CollectionItem>\n          )\n        } else if(activity.type === 'milestone') {\n          return (\n            <CollectionItem className='avatar' key={i +activity.type} >\n              <img src={activity.avatar_img} alt=\"\" className=\"circle\" />\n                <p className = \"title left\" >\n                <a href={`/profile/${activity.usersid}` }>{activity.name}</a> has completed <a href={`/goal/${activity.goal_id}`} className='communityActivity_link'>{activity.title}</a> goal.\n                </p>\n                <br />\n                <p className='left grey-text'><Timeago date= {activity.time_stamp}/></p>\n            </CollectionItem>\n          )\n        } else {\n          return (<p>No Activities yet</p>)\n        };\n      })\n      return activityList;\n      }\n    }\n\n\n  render() {\n    let comm_id = this.props.match.params.id\n    let goalsList;\n    if (this.props.community ) {\n      goalsList = this.props.community.data.map((goals, i) => {\n            return (\n\n                <CollectionItem className=\"community-goal\" key={`${goals.title} ${i}`} onClick={()=>this.props.history.push(`/goal/${goals.id}`)}>\n                  {goals.title}\n                  <a href={`/goal/${goals.id}`} className='secondary-content'>\n                    <Icon>\n                      arrow_forward\n                    </Icon>\n                  </a>\n                </CollectionItem>\n\n            )\n          })\n    }\n\n\n    return (\n      <div className='community_profile'>\n        <Row className='center'>\n          {/* Communityside */}\n          <Col l={4} className='push-l1  m10 s12 black-text z-depth-3 try'>\n            <Collection className='avatar'>\n\n              <div className=\"pic-container\">\n                <img src={borough[comm_id].imgUrl} alt=\"borough\" className='borough responsive-img' />\n                <h4>{borough[comm_id].communityName}</h4>\n                <h5>Goals</h5>\n              </div>\n\n\n              { goalsList }\n              <CollectionItem>\n                  <Button type=\"submit\" waves=\"light\">\n                  <a href={`/goals/community/${this.props.match.params.id}`} className='secondary-content'>\n                      <div className='white-text'>\n                      Community Goals\n                      <Icon right>\n                      arrow_forward\n                      </Icon>\n                      </div>\n                  </a>\n                  </Button>\n              </CollectionItem>\n            </Collection>\n          </Col>\n          {/* Activityside */}\n          <Col l={5} className='offset-l2 m10 s12 z-depth-3 community-activity'>\n            <Collection header='Community Feed'>\n            {this.getActivities()}\n            </Collection>\n          </Col>\n        </Row>\n      </div>\n    )\n  }\n}\n\nexport default CommunityProfile;\n","import { fetchAllCommunityActivity } from '../actions/CommunityAction'\nimport { fetchAllGoalsPerCommunity } from '../actions/GoalsActions'\nimport { connect } from 'react-redux';\nimport CommunityProfile from '../components/CommunityProfile'\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    activity: state.activity,\n    community: state.goals.goalsComm\n  }\n}\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  return {\n    fetchAllCommunityActivity: (community_id) => dispatch(fetchAllCommunityActivity(community_id)),\n    fetchAllGoalsPerCommunity: (community_id) => dispatch(fetchAllGoalsPerCommunity(community_id))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CommunityProfile);\n","import React, { Component } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport HomeContainer from './containers/HomeContainer';\n// import Navbar from './Navbar'\nimport AboutUs from './components/AboutUs'\nimport SignUpContainer from './containers/SignUpContainer'\nimport LoginContainer from './containers/LoginContainer'\nimport UserContainer from './containers/UserContainer';\nimport GoalsContainer from './containers/GoalsContainer'\nimport NavbarContainer from './containers/NavbarContainer'\nimport CommunityContainer from './containers/CommunityContainer'\nimport './App.css';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <NavbarContainer />\n        <Switch>\n          <Route exact path='/' component={HomeContainer}/>\n          <Route path='/signup' component={SignUpContainer}/>\n          <Route path='/login' component={LoginContainer}/>\n          <Route path='/aboutus' component={AboutUs}/>\n          <Route path='/profile/:id' component={UserContainer}/>\n          <Route path='/goal/:goal_id' component={GoalsContainer}/>\n          <Route path='/community/:id' component={CommunityContainer}/>\n          <Route path='/goals/community/:community_id' component={GoalsContainer}/>\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import {NEW_USER, LOG_IN, CURRENT_USER,} from '../actions/AuthActions';\nimport Auth  from '../util/Auth.js'\n\nconst initialState = {\n  user: {},\n  isLoggedIn: null,\n  userId: null,\n  username:null,\n  email:\"\",\n  currentUser: {\n  img_url:\"https://bloximages.newyork1.vip.townnews.com/kentwired.com/content/tncms/assets/v3/editorial/f/95/f95384b0-edfc-59b2-8b1e-4a6f2c3bc61c/52c5029f44428.image.jpg\"\n  }\n}\n\nconst AuthReducer = (state = initialState, action) => {\n  Object.freeze(state);\n  switch (action.type) {\n    case NEW_USER:\n    //user refers to the payload\n      return {\n        ...state,\n        user :action.user\n      }\n    case LOG_IN:\n\n      return {\n        ...state,\n        userId: +Auth.getToken(),\n        username:action.payload.id,\n        isLoggedIn:Auth.isUserAuthenticated()\n      }\n    case CURRENT_USER:\n      return {\n        ...state,\n        currentUser:action.payload\n      }\n    default:\n      return state\n  }\n}\n\nexport default AuthReducer\n","import { RECEIVE_TONNAGE } from '../actions/DataActions'\n\nconst DataReducer = (oldState = {}, action) => {\n   Object.freeze(oldState);\n   switch (action.type) {\n     case RECEIVE_TONNAGE:\n      return { ...oldState, data: action.tonnage }\n     default:\n      return oldState\n   }\n\n}\n\nexport default DataReducer;\n","import { RECEIVE_ALLGOALS } from '../actions/GoalsActions';\nimport { RECEIVE_SUBSCRIPTIONS_PER_GOAL } from '../actions/GoalsActions';\nimport { RECEIVE_SUBMISSIONS_PER_GOAL } from '../actions/GoalsActions';\nimport { RECEIVE_ALLGOALS_PER_COMM } from '../actions/GoalsActions';\nimport { RECEIVE_ALLUSERS_PER_GOAL, RECEIVE_ALLSUBM_COUNT_PER_COMM } from '../actions/GoalsActions';\n\n//description splitter, it splits the string into description, initiative and slogan\nconst normalizeDescription = (description) => {\n let arr = (description).split('@$'),\n  obj = {\n   description: arr[0],\n   initiative: arr[1],\n   slogan: arr[2]\n }\n return obj\n}\n\nconst GoalsReducer = (oldState = {}, action) => {\n  Object.freeze(oldState);\n  switch(action.type) {\n    case RECEIVE_ALLGOALS:\n      action.goals.data.forEach(goal => { let normDesc = normalizeDescription(goal.description)\n                                                          goal.description = normDesc })\n      return { ...oldState, goals: action.goals}\n    case RECEIVE_SUBMISSIONS_PER_GOAL:\n      return { ...oldState, submissions: action.submissions}\n    case RECEIVE_SUBSCRIPTIONS_PER_GOAL:\n      action.subscriptions.forEach(subscription => { let normDesc = normalizeDescription(subscription.description)\n                                                          subscription.description = normDesc })\n      return { ...oldState, subscriptions: action.subscriptions}\n\n    case RECEIVE_ALLSUBM_COUNT_PER_COMM:\n    return { ...oldState, subCount: action.subCount}\n\n    case RECEIVE_ALLGOALS_PER_COMM:\n      return { ...oldState, goalsComm: action.goalsComm }\n\n    case RECEIVE_ALLUSERS_PER_GOAL:\n      return { ...oldState, goalUsers: action.goalUsers }\n    default:\n      return oldState;\n  }\n}\n\nexport default GoalsReducer;\n","import { RECEIVE_ALLSUBSCRIPTIONS, RECEIVE_ALLSUBSCRIPTIONS_FORAUSER, RECEIVE_ALLSUBS_PER_COMM } from '../actions/SubscriptionsActions'\n\nconst SubscriptionReducer = (oldState = {\n  subscripUser: []\n}, action) => {\n  Object.freeze(oldState);\n  switch(action.type) {\n    case RECEIVE_ALLSUBSCRIPTIONS:\n      return { ...oldState, subscriptions: action.subscriptions}\n    case RECEIVE_ALLSUBSCRIPTIONS_FORAUSER:\n      return {...oldState, ...action.subscriptions}\n    case RECEIVE_ALLSUBS_PER_COMM:\n      return { ...oldState, community:action.subscriptions}\n    default:\n      return oldState;\n  }\n}\n\nexport default SubscriptionReducer;\n","import { RECEIVE_ALLUSERS } from '../actions/UserActions';\n\nconst UserReducer = (oldState = [], action) => {\n  Object.freeze(oldState);\n  switch(action.type) {\n    case RECEIVE_ALLUSERS:\n      return [...oldState, ...action.users]\n    default:\n      return oldState;\n  }\n}\n\nexport default UserReducer;","import { RECEIVE_ALLACTIVITY_FORACOMMUNITY } from '../actions/CommunityAction'\n\nconst CommunityReducer = (oldState = [], action) => {\n  Object.freeze(oldState);\n  switch(action.type) {\n    case RECEIVE_ALLACTIVITY_FORACOMMUNITY:\n    return action.activity.activity\n    default:\n    return oldState;\n  }\n}\n\nexport default CommunityReducer;\n","import { RECEIVE_USERACTIVITY } from '../actions/UserActions';\n\nconst UserReducer = (oldState = [], action) => {\n  Object.freeze(oldState);\n  switch(action.type) {\n    case RECEIVE_USERACTIVITY:\n      return action.activity\n    default:\n      return oldState;\n  }\n}\n\nexport default UserReducer;\n","import { combineReducers } from 'redux';\nimport AuthReducer from './AuthReducer';\nimport DataReducer from './DataReducer';\nimport GoalsReducer from './GoalsReducer';\nimport SubscriptionsReducer from './SubscriptionsReducer';\nimport UserReducer from './UserReducer'\nimport CommunityReducer from './CommunityReducer';\nimport activityReducer from './ActivityReducer';\n\n\nconst RootReducer = combineReducers({\n  auth: AuthReducer,\n  data: DataReducer,\n  goals: GoalsReducer,\n  subscriptions: SubscriptionsReducer,\n  users: UserReducer,\n  activity: CommunityReducer,\n  userActivity: activityReducer,\n})\n\nexport default RootReducer;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom'\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport RootReducer from './reducers/RootReducer'\nimport thunk from 'redux-thunk';\nimport logger from 'redux-logger';\n\nimport * as serviceWorker from './serviceWorker';\nconst store = createStore(RootReducer, {}, applyMiddleware(thunk, logger))\n\nReactDOM.render(<Provider store={store}>\n                  <BrowserRouter>\n                    <App />\n                  </BrowserRouter>\n                </Provider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}